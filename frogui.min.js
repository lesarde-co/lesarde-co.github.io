function sleep(n){return new Promise(t=>{setTimeout(t,n)})}function doDomContentLoaded(){}function b64toBlob(n,t,i){var e,o,r,f,s,u,h;for(t=t||"",i=i||512,e=atob(n),o=[],r=0;r<e.length;r+=i){for(f=e.slice(r,r+i),s=new Array(f.length),u=0;u<f.length;u++)s[u]=f.charCodeAt(u);h=new Uint8Array(s);o.push(h)}return new Blob(o,{type:t})}function removeAllChildren(n){while(n.hasChildNodes())n.removeChild(n.lastChild)}function uploadBlobFileAsync(n,t){var i=new XMLHttpRequest;i.open("GET",n,!0);i.responseType="blob";i.onload=function(){var n=i.response;t(n)};i.send()}function uploadBase64Async(n,t){uploadBlobFileAsync(n,function(n){var i=new FileReader;i.readAsDataURL(n);i.onloadend=function(){var n=i.result;t(n)}})}function processKeyEvent(n,t){var i=t.key,r=t.which,u=t.originalEvent.code,f=new KeyboardRelayEventArgs(i,r,u,t.altKey,t.ctrlKey,t.metaKey,t.shiftKey,t.timeStamp);return Wormhole.relayEvent(n,t.type,JSON.stringify(f)),!0}function processMouseEvent(n,t,i){x=i.pageX-n.left;y=i.pageY-n.top;var r={X:x,Y:y},u={X:i.clientX,Y:i.clientY},f={X:i.pageX,Y:i.pageY},e={X:i.screenX,Y:i.screenY},o=new PointerRelayEventArgs(i.pointerId,i.pointerType,i.button,r,u,f,e,i.altKey,i.ctrlKey,i.metaKey,i.shiftKey,i.button,i.timeStamp);return Wormhole.relayEvent(t,i.type,JSON.stringify(o)),!0}function getElementOffset(n){return n===document?PositionZero:$(n).offset()}function whichTransitionEvent(){var n,i=document.createElement("fakeelement"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd",transition:"transitionEnd"};for(n in t)if(i.style[n]!==undefined)return t[n]}function connectTransitionEndListener(n,t){jelement=$(t);var i=whichTransitionEvent();jelement.one(i,function(){Wormhole.relayEvent(n,"transitionend",null)})}function disconnectTransitionEndListener(n){jelement=$(n);var t=whichTransitionEvent();jelement.off(t)}function connectFocusListeners(n,t){jobject=$(t);jobject.focus(function(t){Wormhole.relayEvent(n,t.type,null)});jobject.blur(function(t){Wormhole.relayEvent(n,t.type,null)})}function connectKeyListeners(n,t){jobject=$(t);jobject.on("keydown",function(t){return processKeyEvent(n,t)});jobject.on("keyup",function(t){return processKeyEvent(n,t)})}function disconnectKeyListeners(n){jobject=$(n);jobject.off("keydown");jobject.off("keyup")}function connectPointerListeners(n,t){jobject=$(t);jobject.attr("touch-action","none");jobject.css("touch-action","none");jobject.css("pointer-events","auto");jobject.on("click",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("dblclick",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointercancel",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointerdown",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointerenter",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointerleave",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointermove",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointerout",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointerover",function(t){processMouseEvent(getElementOffset(this),n,t)});jobject.on("pointerup",function(t){processMouseEvent(getElementOffset(this),n,t)})}function disconnectPointerListeners(n){jobject=$(n);jobject.attr("touch-action","auto");jobject.css("touch-action","auto");jobject.css("pointer-events","none");jobject.off("click");jobject.off("dblclick");jobject.off("pointercancel");jobject.off("pointerdown");jobject.off("pointerenter");jobject.off("pointerleave");jobject.off("pointermove");jobject.off("pointerout");jobject.off("pointerover");jobject.off("pointerup")}function elementRelayRepositionEvent_id(n,t,i,r,u,f,e){var o=new ElementRepositionRelayEventArgs(Date.now(),t,i,r,u,f,e);applyingElementActionset?resizePairs.push(new Id_ElementResizeRelayEventArgs(n,o)):Wormhole.relayEvent(n,"elementReposition",JSON.stringify(o))}function elementRelayRepositionEvent(n,t){var i=t.offset();elementRelayRepositionEvent_id(n.id,i.left,i.top,n.offsetWidth,n.offsetHeight,n.scrollWidth,n.scrollHeight)}function processCornerRadiusMode(n,t){var i,r;"Horizontal"===t.Mode?(i=" "+n.offsetWidth/2+"px",$(n).css("border-top-left-radius",t.TopLeft+i),$(n).css("border-top-right-radius",t.TopRight+i),$(n).css("border-bottom-right-radius",t.BottomRight+i),$(n).css("border-bottom-left-radius",t.BottomLeft+i)):(r=n.offsetHeight/2+"px ",$(n).css("border-top-left-radius",r+t.TopLeft),$(n).css("border-top-right-radius",r+t.TopRight),$(n).css("border-bottom-right-radius",r+t.BottomRight),$(n).css("border-bottom-left-radius",r+t.BottomLeft))}function element_addClassItem(n,t){n.classList.add(t)}function element_removeClassItem(n,t){n.classList.remove(t)}function findImageSourceIndex(n){for(var t=0;t<imageSource_ids.length;++t)if(imageSource_ids[t]===n)return t;return-1}function imageSourceManager_addImage(n,t,i){var e=URL.createObjectURL(t),o=e.toString(),f,r,u,s;imageSource_ids.push(n);imageSource_urls.push(e);f=new Image;f.onload=function(){i(o,f.width,f.height)};f.src=e;r=document.createElementNS(SvgNamespace,"pattern");r.id=n+"_pattern";r.setAttribute("width","100%");r.setAttribute("height","100%");r.setAttribute("patternContentUnits","objectBoundingBox");u=document.createElementNS(SvgNamespace,"image");u.setAttribute("width","1");u.setAttribute("height","1");u.setAttribute("preserveAspectRatio","none");u.setAttribute("href",o);r.appendChild(u);s=document.getElementById("e_svgDefs");s.appendChild(r)}function imageSourceManager_addImageAsync(n,t,i){uploadBlobFileAsync(t,function(t){imageSourceManager_addImage(n,t,i)})}function imageSourceManager_removeImage(n){var t=findImageSourceIndex(n),i,r;delete imageSource_ids[t];imageSource_ids.splice(t,1);delete imageSource_urls[t];imageSource_urls.splice(t,1);i=document.getElementById("e_svgDefs");r=document.getElementById(n+"_pattern");i.removeChild(r)}function styleSheet_getRuleIndex(n){for(var u,r,i=document.styleSheets,f=i.length,t=0;t<f;t++){if(i[t].rules)u=i[t].rules;else{try{if(!i[t].cssRules)continue}catch(e){if(e.name==="SecurityError"){console.log("SecurityError. Cant read: "+i[t].href);continue}}u=i[t].cssRules}for(r=0;r<u.length;r++)if(u[r].selectorText===n)return r;return-1}}function jetson_getRuleIndex(n){var i,t;if(css_jetson.rules)i=css_jetson.rules;else{try{if(!css_jetson.cssRules)return-1}catch(r){if(r.name==="SecurityError")return console.log("SecurityError. Cant read: "+css_jetson.href),-1}i=css_jetson.cssRules}for(t=0;t<i.length;t++)if(i[t].selectorText===n)return t;return-1}function jetson_addRule(n,t){var i=n+" {\n"+t+"}";css_jetson.insertRule(i,css_jetson.cssRules.length)}function jetson_removeRuleBySelector(n){var t=jetson_getRuleIndex(n);css_jetson.deleteRule(t)}function console_fireGenericEvent(n){var t=new RelayEventArgs(Date.now());Wormhole.relayEvent(n,"genericConsole",JSON.stringify(t))}function console_createColoredElement(n,t,i){var r=document.createElement(n);return r.style.color=t,r.style.backgroundColor=i,r}function console_clear(n,t,i,r){var u=document.getElementById(n);t&&(document.body.style.backgroundColor=i);u.style.backgroundColor=i;u.style.fontSize=r;removeAllChildren(u);console_fireGenericEvent(n)}function console_readKey(n,t,i,r){var f=document.getElementById(n),u=console_createColoredElement("textarea",i,r);u.className+=t?"console_readKey_intercept":"console_readKey";u.rows=1;u.onkeydown=function(t){var i=t.keyCode,r;if(KeyCode.shift!==i&&KeyCode.ctrl!==i&&KeyCode.alt!==i)return t.preventDefault(),u.readOnly=!0,u.blur(),r=new ConsoleReadKeyWormholeArgs(t.key,t.code,t.altKey,t.ctrlKey,t.metaKey,t.shiftKey),Wormhole.readKey_Return(n,r),!0};f.appendChild(u);u.focus()}function console_readLine(n,t,i){var u=document.getElementById(n),r=console_createColoredElement("textarea",t,i);r.className+="console_readLine";r.rows=1;r.oninput=function(){r.style.height="";r.style.height=r.scrollHeight+"px"};r.onkeypress=function(t){var i=t.keyCode;if(KeyCode.enter===i)return t.preventDefault(),r.readOnly=!0,r.blur(),Wormhole.readLine_Return(n,r.value),!1};u.appendChild(r);r.focus()}function console_write(n,t,i,r){var f=atob(t),e=document.getElementById(n),u=console_createColoredElement("span",i,r);u.className+="console_write";u.innerText=f;e.appendChild(u);console_fireGenericEvent(n)}function console_writeLine_empty(n){var t=document.getElementById(n),i=document.createElement("br");t.appendChild(i);console_fireGenericEvent(n)}function console_writeLine(n,t,i,r){var f=atob(t),e=document.getElementById(n),u=console_createColoredElement("div",i,r);u.innerText=f;e.appendChild(u);console_fireGenericEvent(n)}function application_alert(n){alert(n)}function application_scopeLog(n){console.log(n)}function getJqElement(n){var t=findMagicElement(n);if(null===t){console.trace();throw"Frogui: getJqElement() could not find element "+n+".";}return $(t)}function attachResizeSensor(n,t){new ResizeSensor(n,function(){elementRelayRepositionEvent(n,t)})}function application_deleteElement(n){getJqElement(n).remove()}function application_clearElement(n){var t=document.getElementById(n),i=$(t),r=t.lastChild,u=null!==r&&$(r).hasClass("resize-sensor");u&&ResizeSensor.detach(t);i.empty();u&&attachResizeSensor(t,i)}function updateElement_StylesClasses(n,t,i){if(n.style.cssText=t?t:"",i)for(var u=i.split(" "),r=0;r<u.length;++r)n.classList.add(u[r]);else n.classList=""}function updateElement_IdStylesClasses(n,t,i,r){n.id=t;updateElement_StylesClasses(n,i,r)}function insertElement_b(n,t,i){if(t>=n.childNodes.length)n.appendChild(i);else{var r=n.childNodes[t];n.insertBefore(i,r)}}function insertElement_a(n,t,i){var r=document.getElementById(n.id);null!==r?insertCache.push(new InsertElementArgs(n,t,i)):insertElement_b(n,t,i)}function _createElement(n,t,i,r,u,f,e,o){e&&(f=f+" element");updateElement_IdStylesClasses(i,r,u,f);o&&connectFocusListeners(r,i);insertElement_a(n,t,i)}function createElement_customTag(n,t,i,r,u,f,e,o){var s=document.createElement(n);return insertedElements.push(s),_createElement(t,i,s,r,u,f,e,o),s}function createElement_divTag(n,t,i,r,u,f,e){return createElement_customTag("div",n,t,i,r,u,f,e)}function createElement_svg_(n,t,i,r,u,f,e,o){var s=document.createElementNS(SvgNamespace,n);return insertedElements.push(s),_createElement(t,i,s,r,u,f,e,o),s}function createElement_svg_shape(n,t,i,r,u){return createElement_svg_(n,t,i,r,"",u,!1,!1)}function createElement_Svg(n,t,i){return createElement_svg_("svg",n,t,i,ShapeCssStyle,"svg",!1,!1)}function createGenericElement(n,t,i,r){return createElement_divTag(n,t,i,"",r,!0,!0)}function createGenericControl(n,t,i,r){return createElement_divTag(n,t,i,"",r,!0,!0)}function createElement_Image(n,t,i){return createElement_customTag("img",n,t,i,"","image",!0,!0)}function createElement_SvgEllipse(n,t,i){var r=createElement_svg_shape("ellipse",n,t,i,"ellipse");return r.setAttribute("cx","50%"),r.setAttribute("cy","50%"),r.setAttribute("rx","50%"),r.setAttribute("ry","50%"),r}function createElement_SvgPath(n,t,i){var r=createElement_svg_shape("path",n,t,i,"path");return r.setAttribute("vector-effect","non-scaling-stroke"),r}function createElement_SvgRectangle(n,t,i){var r=createElement_svg_shape("rect",n,t,i,"rectangle");return r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r}function relayEvent_TextChange(n,t,i,r){var u=btoa(n.value),f=new TextChangeRelayEventArgs(u,t,r,n.scrollWidth,n.scrollHeight);return Wormhole.relayEvent(i,"textChange",JSON.stringify(f)),!0}function createElement_TextBoxPart(n,t,i){var r=createElement_customTag("textarea",n,t,i,"","textBoxPart",!0,!0);r.onfocus=function(n){Wormhole.relayEvent(i,n.type,null)};$(r).bind("input propertychange",function(){relayEvent_TextChange(r,event.timeStamp,i,!1)});$(r).on("change",function(){relayEvent_TextChange(r,event.timeStamp,i,!0)});$(r).on("keydown",function(n){if(n.keyCode===13&&!1===$(r).hasClass("textBoxBase__acceptsReturn--true"))return n.preventDefault(),!1});return r}function applyElementMemberUpdates(n){n.Items.forEach(function(n){var t=findMagicElement(n.Id);n.OrigAttributes.forEach(function(n){t.removeAttribute(n)});n.NewAttributes.forEach(function(n){t.setAttribute(n.Name,n.Value)});n.OrigClasses.forEach(function(n){element_removeClassItem(t,n)});n.NewClasses.forEach(function(n){element_addClassItem(t,n)});n.OrigProperties.forEach(function(n){t.style[n]=null});n.NewProperties.forEach(function(n){$(t).css(n.Name,n.Value)})})}function applyElementSpecialActions(n,t){var i=$(n);t.forEach(function(t){switch(t.Id){case ESAID.SetKeyboardFocus:n.focus();break;case ESAID.AddWindowTitle:document.title=t.Title;break;case ESAID.DeleteWindowTitle:document.title=null;break;case ESAID.AddTextBlockText:n.textContent=t.Text;break;case ESAID.DeleteTextBlockText:n.textContent=null;break;case ESAID.AddHtmlBlockText:n.innerHTML=t.Text;break;case ESAID.DeleteHtmlBlockText:n.innerHTML=null;break;case ESAID.AddTextBoxText:i.val(t.Text);relayEvent_TextChange(n,$.now(),n.id,!1);break;case ESAID.DeleteTextBoxText:i.val(null);relayEvent_TextChange(n,$.now(),n.id,!1);break;case ESAID.ScrollTextBox:n.scrollLeft=t.Offset.X;n.scrollTop=t.Offset.Y;break;case ESAID.UseAbsolutePosition:attachResizeSensor(n,i);elementRelayRepositionEvent(n,i);break;case ESAID.CornerRadiusMode:new ResizeSensor(n,function(){processCornerRadiusMode(n,t)});processCornerRadiusMode(n,t);break;case ESAID.AddHitTesting:connectPointerListeners(n.id,n);break;case ESAID.DeleteHitTesting:disconnectPointerListeners(n);break;case ESAID.AddKeyboardListener:connectKeyListeners(n.id,n);break;case ESAID.DeleteKeyboardListener:disconnectKeyListeners(n);break;case ESAID.AddPointerCapture:n.setPointerCapture(t.PointerId);break;case ESAID.DeletePointerCapture:n.releasePointerCapture(t.PointerId);break;case ESAID.AddTransitionEndListener:connectTransitionEndListener(n.id,n);break;case ESAID.DeleteTransitionEndListener:disconnectTransitionEndListener(n);break;default:console.log("scopeSyncElementSpecialActions() unknown Id '"+t.Id+"'.")}})}function findMagicElement(n){if((element=insertedElements.find(function(t){return t.id===n}),undefined!==element)||(element=shiftMoveElements.find(function(t){return t.id===n}),undefined!==element)||(element=changeElements.find(function(t){return t.id===n}),undefined!==element)||(element=miscElements.find(function(t){return t.id===n}),undefined!==element)||(element=document.getElementById(n),null!==element))return element;console.trace();throw"Frogui: Could not find element "+n+".";}function maybeAddMiscElement(n){null===n||miscElements.includes(n)||miscElements.push(n)}function application_applyElementActionset(n,t,i,r){console.log("application_applyElementActionset()");"True"===r&&(i=atob(i));insertedElements=[];insertCache=[];shiftMoveElements=[];changeElements=[];miscElements=[];applyingElementActionset=!0;var u=JSON.parse(i);console.log(u);u.Items.forEach(function(n){if(EAID.InsertElement===n.Id||EAID.ShiftElement===n.Id||EAID.MoveElement===n.Id||EAID.ChangeElement===n.Id){var t=document.getElementById(n.VisualParentElementId);maybeAddMiscElement(t);n.DomElements.Items.forEach(function(n){t=document.getElementById(n.Id);maybeAddMiscElement(t)})}});u.Items.forEach(function(n){if(EAID.ChangeElement===n.Id){var t=document.getElementById(n.ElementId);changeElements.push(t)}});u.Items.forEach(function(n){if(EAID.MoveElement===n.Id||EAID.ShiftElement===n.Id){var t=document.getElementById(n.ElementId);shiftMoveElements.push(t)}});u.Items.forEach(function(n){EAID.DeleteElement===n.Id?application_deleteElement(n.ElementId):EAID.ClearElement===n.Id&&application_clearElement(n.ElementId)});shiftMoveElements.forEach(function(n){n.parentElement.removeChild(n)});u.Items.forEach(function(n){var t=null,i=null,r,u;if(EAID.ShiftElement===n.Id||EAID.MoveElement===n.Id)i=shiftMoveElements.find(function(t){return t.id===n.ElementId}),t=findMagicElement(n.VisualParentElementId),insertElement_a(t,n.Index,i);else if(EAID.InsertElement===n.Id){t=findMagicElement(n.VisualParentElementId);r=n.Index;u=n.ElementId;switch(n.TypeName){case"Border":i=createGenericElement(t,r,u,"border");break;case"Box":i=createGenericElement(t,r,u,"box");break;case"Button":i=createGenericControl(t,r,u,"button");break;case"CheckBox":i=createGenericControl(t,r,u,"checkBox");break;case"Console":i=createGenericElement(t,r,u,"console");break;case"Control":i=createGenericControl(t,r,u,"control");break;case"Decorator":i=createGenericElement(t,r,u,"decorator");break;case"Droplist":i=createGenericControl(t,r,u,"droplist");break;case"Flex":i=createGenericElement(t,r,u,"flex");break;case"Form":i=createGenericControl(t,r,u,"form");break;case"FormMemberContainer":i=createGenericElement(t,r,u,"formMemberContainer");break;case"Grid":i=createGenericElement(t,r,u,"grid");break;case"Host":i=createGenericControl(t,r,u,"host");break;case"Image":i=createElement_Image(t,r,u);break;case"ItemsControl":i=createGenericControl(t,r,u,"itemsControl");break;case"ListBox":i=createGenericControl(t,r,u,"listBox");break;case"Paper":i=createGenericElement(t,r,u,"paper");break;case"Pixy":i=createGenericElement(t,r,u,"pixy");break;case"PopupPart":i=createGenericElement(t,r,u,"popupPart");break;case"RadioButton":i=createGenericControl(t,r,u,"radioButton");break;case"ScrollBar":i=createGenericControl(t,r,u,"scrollBar");break;case"ScrollViewer":i=createGenericControl(t,r,u,"scrollViewer");break;case"Segmenter":i=createGenericControl(t,r,u,"segmenter");break;case"SelectorItemContainer":i=createGenericElement(t,r,u,"selectorItemContainer");break;case"Slider":i=createGenericControl(t,r,u,"slider");break;case"Svg":i=createElement_Svg(t,r,u);break;case"SvgEllipse":i=createElement_SvgEllipse(t,r,u);break;case"SvgPath":i=createElement_SvgPath(t,r,u);break;case"SvgRectangle":i=createElement_SvgRectangle(t,r,u);break;case"TextBlock":i=createGenericElement(t,r,u,"textBlock");break;case"HtmlBlock":i=createGenericElement(t,r,u,"htmlBlock");break;case"TextBox":i=createGenericControl(t,r,u,"textBox");break;case"TextBoxPart":i=createElement_TextBoxPart(t,r,u);break;case"Window":i=createGenericControl(t,r,u,"window");break;default:console.log("frogui-error: unknown type '"+n.TypeName+"'.")}}});u.Items.forEach(function(n){if(EAID.InsertElement===n.Id||EAID.ShiftElement===n.Id||EAID.MoveElement===n.Id||EAID.ChangeElement===n.Id){applyElementMemberUpdates(n.DomElements);var t=findMagicElement(n.ElementId);applyElementSpecialActions(t,n.SpecialActions)}});insertCache.forEach(function(n){insertElement_b(n.parent,n.index,n.child)});finishApplyActionSet(n,t)}function application_handshake(){Wormhole.handshake_Return(Date.now(),$(window).width(),$(window).height())}function process_addRuleAction(n){var t="";n.Properties.forEach(function(n){t+=n.Name+": "+n.Value+";\n"});jetson_addRule(n.Selector,t)}function process_changeRuleAction(n){var i=jetson_getRuleIndex(n.Selector),r,t;-1===i&&console.log("error in changeRuleAction_properties() -- could not find style rule '"+property.Selector+"'.");r=css_jetson.rules[i];t=r.style;n.Properties.forEach(function(n){t.setProperty(n.Name,n.Value)});n.DeletePropertyNames.forEach(function(n){t.removeProperty(n)})}function process_deleteRuleAction(n){jetson_removeRuleBySelector(n.Selector)}function process_addBitmapImageAction(n){imageSourceManager_addImageAsync(n.BitmapImageId,n.Uri,function(t,i,r){Wormhole.addImageSource_Return(n.BitmapImageId,t,i,r)})}function process_deleteBitmapImageAction(n){imageSourceManager_removeImage(n.BitmapImageId)}function process_addGradientAction(n,t){n.id=t.BrushId;t.Stops&&t.Stops.forEach(function(t){var i=document.createElementNS(SvgNamespace,"stop");i.setAttribute("offset",t.Offset);i.setAttribute("style","stop-color:"+t.Color);n.appendChild(i)});var i=document.getElementById("e_svgDefs");i.appendChild(n)}function process_addLinearGradientBrushAction(n){var t=document.createElementNS(SvgNamespace,"linearGradient");t.setAttribute("x1",n.X1);t.setAttribute("y1",n.Y1);t.setAttribute("x2",n.X2);t.setAttribute("y2",n.Y2);process_addGradientAction(t,n)}function process_deleteGradientBrushAction(n){var t=document.getElementById(n.BrushId),i=document.getElementById("e_svgDefs");i.removeChild(t)}function process_addRadialGradientBrushAction(n){var t=document.createElementNS(SvgNamespace,"radialGradient");process_addGradientAction(t,n)}function application_applyAssetActionset(n,t,i){console.log("application_applyAssetActionset()");applyingElementActionset=!0;try{var r=JSON.parse(i)}catch(u){console.log(u)}console.log(r);r.Items.forEach(function(n){switch(n.Id){case AAID.AddRule:process_addRuleAction(n);break;case AAID.ChangeRule:process_changeRuleAction(n);break;case AAID.DeleteRule:process_deleteRuleAction(n);break;case AAID.AddBitmapImage:process_addBitmapImageAction(n);break;case AAID.DeleteBitmapImage:process_deleteBitmapImageAction(n);break;case AAID.AddLinearGradientBrush:process_addLinearGradientBrushAction(n);break;case AAID.DeleteLinearGradientBrush:process_deleteGradientBrushAction(n);break;case AAID.AddRadialGradientBrush:process_addRadialGradientBrushAction(n);break;case AAID.DeleteRadialGradientBrush:process_deleteGradientBrushAction(n);break;default:console.log("application_applyAssetActionset() unknown Id '"+n.Id+"'.")}});finishApplyActionSet(n,t)}function finishApplyActionSet(n,t){var i=new ApplyActionsetResult(n,t,resizePairs),r=JSON.stringify(i);Wormhole.applyActionset_Return(r);applyingElementActionset=!1;resizePairs=[]}var imageSource_ids,imageSource_urls,KeyCode;const InnerElementSuffix="_inner";class RelayEventArgs{constructor(n){this.Timestamp=n}}class ElementRepositionRelayEventArgs{constructor(n,t,i,r,u,f,e){this.Timestamp=n;this.X=t;this.Y=i;this.Width=r;this.Height=u;this.ScrollWidth=f;this.ScrollHeight=e}}class PointerRelayEventArgs{constructor(n,t,i,r,u,f,e,o,s,h,c,l,a){this.PointerId=n;this.PointerType=t;this.ButtonId=i;this.Position=r;this.ViewportPosition=u;this.ParentPosition=f;this.ScreenPosition=e;this.AltKey=o;this.CtrlKey=s;this.MetaKey=h;this.ShiftKey=c;this.Button=l;this.Timestamp=a}}class KeyboardRelayEventArgs{constructor(n,t,i,r,u,f,e,o){this.Key=n;this.Which=t;this.OrigCode=i;this.AltKey=r;this.CtrlKey=u;this.MetaKey=f;this.ShiftKey=e;this.Timestamp=o}}class TextChangeRelayEventArgs{constructor(n,t,i,r,u){this.TextBase64=n;this.Timestamp=t;this.LostFocus=i;this.scrollWidth=r;this.scrollHeight=u}}class Id_ElementResizeRelayEventArgs{constructor(n,t){this.Id=n;this.Args=t}}class ApplyActionsetResult{constructor(n,t,i){this.ActionQueueId=n;this.ActionsetPosition=t;this.ResizePairs=i}}const PositionZero={top:0,left:0};var XDocId="x_doc",element=document.createElement("style"),css_jetson,applyingElementActionset=!1,resizePairs=[];element.title="css_jetson";document.head.appendChild(element);css_jetson=element.sheet;connectFocusListeners(XDocId,document);document.addEventListener("pointermove",function(n){processMouseEvent(PositionZero,XDocId,n)},!0);$(window).resize(function(){elementRelayRepositionEvent_id(XDocId,0,0,$(window).width(),$(window).height(),0,0);$(".resize-sensor").each(function(){var n=$(this).parent(),t=n[0];elementRelayRepositionEvent(t,n)})});const SvgNamespace="http://www.w3.org/2000/svg",ShapeCssStyle="overflow:visible; box-sizing:border-box;";imageSource_ids=[];imageSource_urls=[];KeyCode=Object.freeze({enter:13,shift:16,ctrl:17,alt:18});class ConsoleReadKeyWormholeArgs{constructor(n,t,i,r,u,f){this.key=n;this.code=t;this.isAltKey=i;this.isCtrlKey=r;this.isMetaKey=u;this.isShiftKey=f}}var EAID={InsertElement:0,ShiftElement:1,MoveElement:2,ChangeElement:3,DeleteElement:4,ClearElement:5},ESAID={AddWindowTitle:0,DeleteWindowTitle:1,AddTextBlockText:100,DeleteTextBlockText:101,AddTextBoxText:200,DeleteTextBoxText:201,ScrollTextBox:202,SetKeyboardFocus:300,UseAbsolutePosition:400,CornerRadiusMode:500,AddHitTesting:600,DeleteHitTesting:601,AddPointerCapture:700,DeletePointerCapture:701,AddKeyboardListener:800,DeleteKeyboardListener:801,AddTransitionEndListener:900,DeleteTransitionEndListener:901,AddHtmlBlockText:1e3,DeleteHtmlBlockText:1001},AAID={AddRule:0,ChangeRule:1,DeleteRule:2,AddBitmapImage:100,DeleteBitmapImage:101,AddLinearGradientBrush:200,DeleteLinearGradientBrush:201,AddRadialGradientBrush:300,DeleteRadialGradientBrush:301};class InsertElementArgs{constructor(n,t,i){this.parent=n;this.index=t;this.child=i}}var insertCache=[],insertedElements=[],shiftMoveElements=[],changeElements=[],miscElements=[];