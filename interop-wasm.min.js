var startLoadTime=Date.now();var runtimeLoadTime=null;var bclLoadTime=null;function httpClient_getByteArray(requestUri){uploadBase64Async(requestUri,function(base64){Wormhole.httpClient_getByteArray(requestUri,base64);});}
var App={init:function(){MonoRuntime.init();Wormhole.init();}};var MonoRuntime={init:function(){this.createFunctions();runtimeLoadTime=Date.now();console.log("Done initializing the runtime. Took "+(runtimeLoadTime-bclLoadTime)+" ms");},createFunctions:function(){this.load_runtime=Module.cwrap('mono_wasm_load_runtime',null,['string','number']);this.assembly_load=Module.cwrap('mono_wasm_assembly_load','number',['string']);this.find_class=Module.cwrap('mono_wasm_assembly_find_class','number',['number','string','string']);this.find_method=Module.cwrap('mono_wasm_assembly_find_method','number',['number','string','number']);this.invoke_method=Module.cwrap('mono_wasm_invoke_method','number',['number','number','number']);this.mono_string_get_utf8=Module.cwrap('mono_wasm_string_get_utf8','number',['number']);this.to_wasm_string=Module.cwrap('mono_wasm_string_from_js','number',['string']);},conv_string:function(mono_obj){if(0===mono_obj)
return null;var raw=this.mono_string_get_utf8(mono_obj);var res=Module.UTF8ToString(raw);Module._free(raw);return res;},call_method:function(method,this_arg,args){var args_mem=Module._malloc(args.length*4);var eh_throw=Module._malloc(4);for(var i=0;i<args.length;++i)
Module.setValue(args_mem+i*4,args[i],"i32");Module.setValue(eh_throw,0,"i32");var res=this.invoke_method(method,this_arg,args_mem,eh_throw);var eh_res=Module.getValue(eh_throw,"i32");Module._free(args_mem);Module._free(eh_throw);if(eh_res!==0){var msg=this.conv_string(res);throw new Error(msg);}
return res;}};var Wormhole={init:function(){window.prepareDomForUse();this.findMethods();MonoRuntime.call_method(this.main_method,null,[]);},findMethods:function(){this.main_module=this.findAssembly("Demo");this.main_class=this.findClass(this.main_module,"Demo","Demo","Program");this.main_method=this.findMethod(this.main_class,"Demo","Program","Main");var LESARDE_FROGUI_SCOPE_ASSEMBLY="Lesarde.Frogui.Scope";var LESARDE_NAMESPACE="Lesarde";var LESARDE_INTEROP_NAMESPACE=LESARDE_NAMESPACE+".Interop";var WORMHOLE_CLASS="WasmWormhole";this.base_module=this.findAssembly(LESARDE_FROGUI_SCOPE_ASSEMBLY);this.wormhole_class=this.findClass(this.base_module,LESARDE_FROGUI_SCOPE_ASSEMBLY,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS);this.readKey_Return_method=this.findMethod(this.wormhole_class,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS,"ReadKey_Return");this.readLine_Return_method=this.findMethod(this.wormhole_class,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS,"ReadLine_Return");this.relayEvent_method=this.findMethod(this.wormhole_class,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS,"RelayEvent");this.addImageSource_Return_method=this.findMethod(this.wormhole_class,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS,"AddImageSource_Return");this.applyActionset_Return_method=this.findMethod(this.wormhole_class,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS,"ApplyActionset_Return");this.handshake_Return_method=this.findMethod(this.wormhole_class,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS,"Handshake_Return");this.httpClient_getByteArray_method=this.findMethod(this.wormhole_class,LESARDE_INTEROP_NAMESPACE,WORMHOLE_CLASS,"HttpClient_GetByteArray");},findAssembly:function(name){var assembly=MonoRuntime.assembly_load(name);if(!assembly)
throw"Could not find assembly "+name;return assembly;},findClass:function(assembly,assemblyName,namespaceName,className){var _class=MonoRuntime.find_class(assembly,namespaceName,className);if(!_class)
throw"Could not find class '"+namespaceName+"."+className+"' in assembly '"+assemblyName+"'";return _class;},findMethod:function(_class,namespaceName,className,methodName){var method=MonoRuntime.find_method(_class,methodName,-1);if(!method)
throw"Could not find method '"+methodName+"' in class '"+namespaceName+"."+className+"'";return method;},readLine_Return:function(eid,args){MonoRuntime.call_method(this.readLine_Return_method,null,[MonoRuntime.to_wasm_string(eid),MonoRuntime.to_wasm_string(args)]);},applyActionset_Return:function(jsonArgs){MonoRuntime.call_method(this.applyActionset_Return_method,null,[MonoRuntime.to_wasm_string(jsonArgs)]);},handshake_Return:function(timestamp,windowWidth,windowHeight){MonoRuntime.call_method(this.handshake_Return_method,null,[MonoRuntime.to_wasm_string(timestamp.toString()),MonoRuntime.to_wasm_string(windowWidth.toString()),MonoRuntime.to_wasm_string(windowHeight.toString())]);},readKey_Return:function(eid,args){var jsonArgs=JSON.stringify(args);MonoRuntime.call_method(this.readKey_Return_method,null,[MonoRuntime.to_wasm_string(eid),MonoRuntime.to_wasm_string(jsonArgs)]);},relayEvent:function(eid,eventName,argsJson){if(MonoRuntime.to_wasm_string)
MonoRuntime.call_method(this.relayEvent_method,null,[MonoRuntime.to_wasm_string(eid),MonoRuntime.to_wasm_string(eventName),MonoRuntime.to_wasm_string(argsJson)]);},addImageSource_Return:function(id,blobFileUrl,width,height){MonoRuntime.call_method(this.addImageSource_Return_method,null,[MonoRuntime.to_wasm_string(id),MonoRuntime.to_wasm_string(blobFileUrl),MonoRuntime.to_wasm_string(width.toString()),MonoRuntime.to_wasm_string(height.toString())]);},httpClient_getByteArray:function(requestUri,base64){console.log("httpClient_getByteArray");MonoRuntime.call_method(this.httpClient_getByteArray_method,null,[MonoRuntime.to_wasm_string(requestUri),MonoRuntime.to_wasm_string(base64)]);}};